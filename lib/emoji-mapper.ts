export const ingredientEmojis: Record<string, string> = {
  // Grains & Rice
  rice: "ðŸš",
  "basmati rice": "ðŸš",
  "jasmine rice": "ðŸš",
  "brown rice": "ðŸš",
  poha: "ðŸš",
  "flattened rice": "ðŸš",
  quinoa: "ðŸŒ¾",
  wheat: "ðŸŒ¾",
  flour: "ðŸŒ¾",
  "wheat flour": "ðŸŒ¾",
  "all-purpose flour": "ðŸŒ¾",
  oats: "ðŸŒ¾",
  barley: "ðŸŒ¾",

  // Vegetables
  potato: "ðŸ¥”",
  potatoes: "ðŸ¥”",
  aloo: "ðŸ¥”",
  onion: "ðŸ§…",
  onions: "ðŸ§…",
  garlic: "ðŸ§„",
  ginger: "ðŸ«š",
  tomato: "ðŸ…",
  tomatoes: "ðŸ…",
  carrot: "ðŸ¥•",
  carrots: "ðŸ¥•",
  pepper: "ðŸŒ¶ï¸",
  "bell pepper": "ðŸ«‘",
  "green pepper": "ðŸ«‘",
  "red pepper": "ðŸ«‘",
  broccoli: "ðŸ¥¦",
  corn: "ðŸŒ½",
  eggplant: "ðŸ†",
  cucumber: "ðŸ¥’",
  lettuce: "ðŸ¥¬",
  spinach: "ðŸ¥¬",
  mushroom: "ðŸ„",
  mushrooms: "ðŸ„",
  cabbage: "ðŸ¥¬",
  cauliflower: "ðŸ¥¦",
  peas: "ðŸŸ¢",
  "green peas": "ðŸŸ¢",

  // Fruits
  apple: "ðŸŽ",
  apples: "ðŸŽ",
  banana: "ðŸŒ",
  bananas: "ðŸŒ",
  orange: "ðŸŠ",
  oranges: "ðŸŠ",
  lemon: "ðŸ‹",
  lemons: "ðŸ‹",
  lime: "ðŸ‹",
  limes: "ðŸ‹",
  strawberry: "ðŸ“",
  strawberries: "ðŸ“",
  grape: "ðŸ‡",
  grapes: "ðŸ‡",
  pineapple: "ðŸ",
  mango: "ðŸ¥­",
  mangoes: "ðŸ¥­",
  avocado: "ðŸ¥‘",
  avocados: "ðŸ¥‘",
  coconut: "ðŸ¥¥",

  // Proteins
  chicken: "ðŸ”",
  beef: "ðŸ¥©",
  pork: "ðŸ·",
  fish: "ðŸŸ",
  salmon: "ðŸŸ",
  tuna: "ðŸŸ",
  shrimp: "ðŸ¦",
  prawns: "ðŸ¦",
  egg: "ðŸ¥š",
  eggs: "ðŸ¥š",
  tofu: "ðŸ§ˆ",
  paneer: "ðŸ§€",
  cheese: "ðŸ§€",
  milk: "ðŸ¥›",
  yogurt: "ðŸ¥›",
  "greek yogurt": "ðŸ¥›",
  butter: "ðŸ§ˆ",
  ghee: "ðŸ§ˆ",

  // Spices & Seasonings
  salt: "ðŸ§‚",
  pepper: "ðŸŒ¶ï¸",
  "black pepper": "ðŸŒ¶ï¸",
  basil: "ðŸŒ¿",
  parsley: "ðŸŒ¿",
  cilantro: "ðŸŒ¿",
  coriander: "ðŸŒ¿",
  "fresh cilantro": "ðŸŒ¿",
  mint: "ðŸŒ¿",
  cumin: "ðŸŒ¿",
  "ground cumin": "ðŸŒ¿",
  turmeric: "ðŸŒ¿",
  "red chili powder": "ðŸŒ¶ï¸",
  "chili powder": "ðŸŒ¶ï¸",
  paprika: "ðŸŒ¶ï¸",
  oregano: "ðŸŒ¿",
  thyme: "ðŸŒ¿",
  rosemary: "ðŸŒ¿",
  "garam masala": "ðŸŒ¿",
  cinnamon: "ðŸŒ¿",
  cardamom: "ðŸŒ¿",

  // Oils & Liquids
  oil: "ðŸ«’",
  "olive oil": "ðŸ«’",
  "vegetable oil": "ðŸ«’",
  "coconut oil": "ðŸ«’",
  water: "ðŸ’§",
  broth: "ðŸ²",
  "chicken broth": "ðŸ²",
  "vegetable broth": "ðŸ²",
  "coconut milk": "ðŸ¥¥",
  cream: "ðŸ¥›",
  "heavy cream": "ðŸ¥›",

  // Grains & Carbs
  bread: "ðŸž",
  pasta: "ðŸ",
  noodles: "ðŸœ",
  "rice noodles": "ðŸœ",
  tortilla: "ðŸŒ®",
  "pita bread": "ðŸ«“",

  // Nuts & Seeds
  almonds: "ðŸŒ°",
  walnuts: "ðŸŒ°",
  cashews: "ðŸŒ°",
  peanuts: "ðŸ¥œ",
  "sesame seeds": "ðŸŒ°",
  "sunflower seeds": "ðŸŒ°",

  // Cooking actions
  cook: "ðŸ”¥",
  bake: "ðŸ”¥",
  fry: "ðŸ”¥",
  boil: "ðŸ’§",
  steam: "ðŸ’¨",
  grill: "ðŸ”¥",
  roast: "ðŸ”¥",
  sautÃ©: "ðŸ”¥",
  simmer: "ðŸ”¥",
  mix: "ðŸ¥„",
  stir: "ðŸ¥„",
  chop: "ðŸ”ª",
  slice: "ðŸ”ª",
  dice: "ðŸ”ª",
  season: "ðŸ§‚",
  serve: "ðŸ½ï¸",
  garnish: "ðŸŒ¿",
  heat: "ðŸ”¥",
  add: "âž•",
}

export function addEmojisToText(text: string): string {
  let result = text

  // Sort by length (longest first) to avoid partial matches
  const sortedEntries = Object.entries(ingredientEmojis).sort((a, b) => b[0].length - a[0].length)

  sortedEntries.forEach(([ingredient, emoji]) => {
    // Create regex that matches the ingredient as a whole word or at the beginning of a phrase
    const regex = new RegExp(`\\b${ingredient.replace(/[.*+?^${}()|[\]\\]/g, "\\$&")}\\b`, "gi")

    // Only add emoji if it's not already there
    result = result.replace(regex, (match) => {
      // Check if emoji is already present after this ingredient
      const nextChar = result[result.indexOf(match) + match.length]
      if (nextChar && /[\u{1F300}-\u{1F9FF}]/u.test(nextChar)) {
        return match // Don't add emoji if one is already there
      }
      return `${match} ${emoji}`
    })
  })

  return result
}

export function addEmojisToIngredients(ingredients: string[]): string[] {
  return ingredients.map((ingredient) => addEmojisToText(ingredient))
}

export function addEmojisToInstructions(instructions: string[]): string[] {
  return instructions.map((instruction) => addEmojisToText(instruction))
}
